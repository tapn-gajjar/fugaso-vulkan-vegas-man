!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).revolt=t()}}(function(){return function r(o,a,c){function h(e,t){if(!a[e]){if(!o[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(l)return l(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var s=a[e]={exports:{}};o[e][0].call(s.exports,function(t){return h(o[e][1][t]||t)},s,s.exports,r,o,a,c)}return a[e].exports}for(var l="function"==typeof require&&require,t=0;t<c.length;t++)h(c[t]);return h}({1:[function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0}),i.BaseEffect=void 0;var r=function(i){function t(t){var e=i.call(this)||this;return e.componentId=t,e.exhausted=!1,e.completed=!1,e._x=0,e._y=0,e._rotation=0,e._alpha=0,e._scale=new PIXI.Point,e._active=!1,e.__recycled=!0,e}return s(t,i),t.prototype.update=function(t){},t.prototype.recycle=function(){},Object.defineProperty(t.prototype,"active",{get:function(){return this._active},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this._scale},set:function(t){this._scale=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(t){this._alpha=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!1,configurable:!0}),t.prototype.__applySettings=function(t){},t}(t("./util/LinkedList").Node);i.BaseEffect=r},{"./util/LinkedList":17}],2:[function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0}),i.EffectSequence=void 0;var l=t("./FX"),r=t("./BaseEffect"),u=t("./util/LinkedList"),p=t("./ParticleEmitter"),_=t("./util/Rnd"),o=t("./util/FXSignal"),a=function(i){function t(t){var e=i.call(this,t)||this;return e._elements=new u.LinkedList,e.__on={started:new o.FXSignal,completed:new o.FXSignal,exhausted:new o.FXSignal,effectSpawned:new o.FXSignal,triggerActivated:new o.FXSignal},e}return s(t,i),t.prototype.init=function(t,e,i,n){return void 0===e&&(e=0),void 0===i&&(i=!0),void 0===n&&(n=1),this.container=t,this._scaleMod=n,this._delay=1e3*e,i&&this.start(),this},t.prototype.start=function(){if(!this._active)return this._startTime=Date.now()+(this.settings.delay?1e3*this.settings.delay:0)+this._delay,(this._index=0)==this._list.length?(this._active=!1,this.__on.exhausted.__hasCallback&&this.__on.exhausted.dispatch(this),this.__on.completed.__hasCallback&&this.__on.completed.dispatch(this),this.recycle()):(this.exhausted=this.completed=!1,this.setNextEffect(),this.__fx.effectSequenceCount++,this.__fx.__addActiveEffect(this),this.__on.started.__hasCallback&&this.__on.started.dispatch(this)),this},t.prototype.update=function(t){var e=Date.now();if(!(e<this._startTime)){if(this._time+=t,!this.exhausted&&e>=this._effectStartTime){var i,n=this.__fx,s=this._nextEffectSettings,r=void 0;switch(s.componentType){case l.FX.EffectSequenceComponentType.Sprite:r=n.__getSprite(s.componentId);var o=n.__containers[s.containerId]||this.container;o.addChild(r),r.blendMode=n.useBlendModes?s.blendMode:0,r.tint=s.tint,r.scale.set(_.Rnd.float(s.scaleMin,s.scaleMax)*_.Rnd.float(this.settings.scaleMin,this.settings.scaleMax)*this._scaleMod),r.alpha=_.Rnd.float(s.alphaMin,s.alphaMax),r.anchor.set(s.componentParams.anchorX,s.componentParams.anchorY),i=new u.Node({component:r,endTime:e+1e3*s.duration}),this._elements.add(i),r.x=this._x,r.y=this._y,r.rotation=this._rotation+_.Rnd.float(s.rotationMin,s.rotationMax),this.__on.effectSpawned.__hasCallback&&this.__on.effectSpawned.dispatch(l.FX.EffectSequenceComponentType.Sprite,r);break;case l.FX.EffectSequenceComponentType.MovieClip:if(r=n.__getMovieClip(s.componentId),s.componentParams.loop)r.animationSpeed=_.Rnd.float(s.componentParams.animationSpeedMin||1,s.componentParams.animationSpeedMax||1),r.loop=s.componentParams.loop||!1;else s.duration;r.anchor.set(s.componentParams.anchorX,s.componentParams.anchorY),r.gotoAndPlay(0),(o=n.__containers[s.containerId]||this.container).addChild(r),r.blendMode=n.useBlendModes?s.blendMode:0,r.tint=s.tint,r.scale.set(_.Rnd.float(s.scaleMin,s.scaleMax)*_.Rnd.float(this.settings.scaleMin,this.settings.scaleMax)*this._scaleMod),r.alpha=_.Rnd.float(s.alphaMin,s.alphaMax),i=new u.Node({component:r,endTime:e+1e3*s.duration}),this._elements.add(i),r.x=this._x,r.y=this._y,r.rotation=this._rotation+_.Rnd.float(s.rotationMin,s.rotationMax),this.__on.effectSpawned.__hasCallback&&this.__on.effectSpawned.dispatch(l.FX.EffectSequenceComponentType.MovieClip,r);break;case l.FX.EffectSequenceComponentType.Emitter:r=n.getParticleEmitterById(s.componentId),o=n.__containers[s.containerId]||this.container,r.init(o,!0,_.Rnd.float(s.scaleMin,s.scaleMax)*_.Rnd.float(this.settings.scaleMin,this.settings.scaleMax)*this._scaleMod),i=new u.Node({component:r,endTime:r.endTime}),this._elements.add(i),r.x=this._x,r.y=this._y,r.rotation=this._rotation+r.settings.rotation,this.__on.effectSpawned.__hasCallback&&this.__on.effectSpawned.dispatch(l.FX.EffectSequenceComponentType.Emitter,r);break;case l.FX.EffectSequenceComponentType.Trigger:this.__on.triggerActivated.__hasCallback&&this.__on.triggerActivated.dispatch(s.triggerValue)}this._index==this._list.length?(this.exhausted=!0,this.__on.exhausted.__hasCallback&&this.__on.exhausted.dispatch(this)):this.setNextEffect()}for(var a=this._elements,c=a.first;c;){if(c.update(t),e>c.data.endTime){var h=c.data.component;h instanceof p.ParticleEmitter?h.completed&&a.remove(c):(a.remove(c),h.recycle())}c=c.next}this.exhausted&&0==a.length&&(this._active=!1,this.completed=!0,this.__on.completed.__hasCallback&&this.__on.completed.dispatch(this),this.recycle())}},t.prototype.stop=function(){this.recycle()},t.prototype.recycle=function(){if(!this.__recycled){for(var t,e=this._elements,i=e.first;i;)t=i.next,i.data.component.recycle(),i=t;var n=this.__on;n.completed.__hasCallback&&n.completed.removeAll(),n.started.__hasCallback&&n.started.removeAll(),n.exhausted.__hasCallback&&n.exhausted.removeAll(),n.effectSpawned.__hasCallback&&n.effectSpawned.removeAll(),n.triggerActivated.__hasCallback&&n.triggerActivated.removeAll(),e.clear(),this.__recycled=!0,this._x=this._y=this._rotation=0,this.__fx.effectSequenceCount--,this.__fx.__recycleEffectSequence(this)}},t.prototype.dispose=function(){this._elements.clear(),this.__fx=null;var t=this.__on;t.completed=t.started=t.exhausted=t.effectSpawned=t.triggerActivated=null},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation=t;for(var e,i=this._elements.first;i;)e=i.next,i.data.rotation=t,i=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t;for(var e,i=this._elements.first;i;)e=i.next,i.data.x=t,i=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t;for(var e,i=this._elements.first;i;)e=i.next,i.data.y=t,i=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"on",{get:function(){return this.__on},enumerable:!1,configurable:!0}),t.prototype.setNextEffect=function(){if(!this.exhausted){var t=this._nextEffectSettings=this._list[this._index++];this._effectStartTime=this._startTime+1e3*t.delay}},t.prototype.__applySettings=function(t){this.settings=t,this.name=t.name,this._list=t.effects.slice(),this.__recycled=!1},t}(r.BaseEffect);i.EffectSequence=a},{"./BaseEffect":1,"./FX":3,"./ParticleEmitter":6,"./util/FXSignal":16,"./util/LinkedList":17,"./util/Rnd":18}],3:[function(t,e,i){"use strict";var a=this&&this.__awaiter||function(t,o,a,c){return new(a||(a=Promise))(function(i,e){function n(t){try{r(c.next(t))}catch(t){e(t)}}function s(t){try{r(c.throw(t))}catch(t){e(t)}}function r(t){var e;t.done?i(t.value):(e=t.value,e instanceof a?e:new a(function(t){t(e)})).then(n,s)}r((c=c.apply(t,o||[])).next())})},E=this&&this.__generator||function(i,n){var s,r,o,t,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(s)throw new TypeError("Generator is already executing.");for(;a;)try{if(s=1,r&&(o=2&e[0]?r.return:e[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,e[1])).done)return o;switch(r=0,o&&(e=[2&e[0],o.value]),e[0]){case 0:case 1:o=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,r=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!o||e[1]>o[0]&&e[1]<o[3])){a.label=e[1];break}if(6===e[0]&&a.label<o[1]){a.label=o[1],o=e;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(e);break}o[2]&&a.ops.pop(),a.trys.pop();continue}e=n.call(i,a)}catch(t){e=[6,t],r=0}finally{s=o=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};Object.defineProperty(i,"__esModule",{value:!0}),i.FX=void 0;var n,s,r,o,c=t("./ParticleEmitter"),h=t("./util/LinkedList"),l=t("./core/RingEmitterCore"),u=t("./core/CircleEmitterCore"),p=t("./core/BoxEmitterCore"),_=t("./EffectSequence"),f=t("./Sprite"),d=t("./Particle"),m=t("./MovieClip"),y=t("./Sanitizer");(s=n||(n={}))[s.Sprite=0]="Sprite",s[s.MovieClip=1]="MovieClip",(o=r||(r={}))[o.Sprite=0]="Sprite",o[o.MovieClip=1]="MovieClip",o[o.Emitter=2]="Emitter",o[o.Trigger=3]="Trigger";var v=function(){function x(){this.useBlendModes=!0,this.particleCount=0,this.emitterCount=0,this.effectSequenceCount=0,this.maxParticles=5e3,this.particleFac=1,this._active=!1,this._effects=new h.LinkedList,this.__containers={},this.clearCache(),this.start()}return x.prototype.start=function(){this._active=!0,this._timeElapsed=Date.now()},x.prototype.pause=function(){this._active=!1},x.prototype.update=function(t){if(this.active){var e=Date.now(),i=.001*(e-this._timeElapsed);void 0!==t&&(i*=t);for(var n,s=this._effects.first;s;)n=s.next,s.update(i),s=n;this._timeElapsed=e}},x.prototype.clearCache=function(){this._cache={particles:[],mcs:[],sprites:[],effectSequences:[],emitters:[],cores:{}},this._settingsCache={mcs:{},sprites:{},emitters:{},effectSequences:{}},this._nameMaps={emitters:{},effectSequences:{}}},x.prototype.setFloorY=function(t){var e=this._settingsCache.emitters;for(var i in e)e[i].floorY=t},x.prototype.dispose=function(){for(var t=this._effects,e=t.first;e;)e.dispose(),e=e.next;t.clear(),this.clearCache()},x.prototype.loadBundleFiles=function(o,a,t,c){var h=this;return void 0===t&&(t=""),new Promise(function(i,e){var t=new PIXI.Loader;if(t.onError.add(function(t){e(t)}),t.add("rfx_spritesheet",a).add("rfx_bundleSettings",o),c)for(var n=0,s=c;n<s.length;n++){var r=s[n];r.hasOwnProperty("name")&&r.hasOwnProperty("url")?t.add(r.name,r.url):t.add(r)}t.load(function(t,e){i(h.initBundle(e.rfx_bundleSettings.data))})})},x.prototype.loadBundleZip=function(s,g,r){var o=this;return new Promise(function(y,v){if(null!=g){var t=new PIXI.Loader;if(t.add("zip",s,{xhrType:PIXI.LoaderResource.XHR_RESPONSE_TYPE.BLOB}),r)for(var e=0,i=r;e<i.length;e++){var n=i[e];n.hasOwnProperty("name")&&n.hasOwnProperty("url")?t.add(n.name,n.url):t.add(n)}t.load(function(t,m){return a(o,void 0,void 0,function(){var e,i,n,s,r,o,a,c,h,l,u,p,_,f,d=this;return E(this,function(t){switch(t.label){case 0:return t.trys.push([0,8,,9]),i=e=void 0,[4,g.loadAsync(m.zip.data)];case 1:for(o in t.sent(),s=[],g.forEach(function(t,e){s.push(e)}),r=[],s)r.push(o);a=0,t.label=2;case 2:return a<r.length?(c=r[a],-1==(h=s[c]).name.indexOf(".png")?[3,4]:[4,h.async("base64")]):[3,7];case 3:return l=t.sent(),e="data:image/png;base64,"+l,[3,6];case 4:return-1==h.name.indexOf(".json")?[3,6]:[4,h.async("string")];case 5:if(u=t.sent(),(p=JSON.parse(u)).__h){if(p.__h!==x._bundleHash)return v("Invalid settings file."),[2];n=p}else p.frames&&(i=p);t.label=6;case 6:return a++,[3,2];case 7:return _=PIXI.Texture.from(e),new PIXI.Spritesheet(_.baseTexture,i).parse(function(){setTimeout(function(){y(d.initBundle(n,!0))},100)}),[3,9];case 8:return f=t.sent(),v(f.toString()),[3,9];case 9:return[2]}})})})}else v("JSZip instance not provided.")})},x.prototype.initBundle=function(t,e){if(t.__h!==x._bundleHash)throw new Error("Invalid settings file.");if(t.__v!=x.settingsVersion)throw new Error("Settings version mismatch.");for(var i in y.Sanitizer.sanitizeBundle(t),e&&this.clearCache(),t.emitters){var n=t.emitters[i];this.addParticleEmitter(n.id,n)}for(var i in t.sequences){n=t.sequences[i];this.addEffectSequence(n.id,n)}return this.useBlendModes=t.useBlendModes,this.maxParticles=t.maxParticles,this.parseTextureCache(t.spritesheetFilter)},x.prototype.addParticleEmitter=function(t,e){if(this._settingsCache.emitters[t])throw new Error("ComponentId '"+t+"' already exists.");return this._settingsCache.emitters[t]=e,this._nameMaps.emitters[e.name]=e,this},x.prototype.addEffectSequence=function(t,e){if(this._settingsCache.effectSequences[t])throw new Error("ComponentId '"+t+"' already exists.");return this._settingsCache.effectSequences[t]=e,this._nameMaps.effectSequences[e.name]=e,this},x.prototype.initSprite=function(t,e){if(this._settingsCache.sprites[t])throw new Error("ComponentId '"+t+"' already exists.");return this._settingsCache.sprites[t]=e,this},x.prototype.initMovieClip=function(t,e){if(this._settingsCache.mcs[t])throw new Error("ComponentId '"+t+"' already exists.");return this._settingsCache.mcs[t]=e,this},x.prototype.getMovieClips=function(){return this._settingsCache.mcs},x.prototype.getSprites=function(){return this._settingsCache.sprites},x.prototype.addContainer=function(t,e){this.__containers[t]=e},x.prototype.getEffectSequence=function(t){var e=this._nameMaps.effectSequences[t];if(!e)throw new Error("Settings not defined for '"+t+"'");return this.getEffectSequenceById(e.id)},x.prototype.getEffectSequenceById=function(t){var e,i=this._cache.effectSequences,n=this._settingsCache.effectSequences[t];if(!n)throw new Error("Settings not defined for '"+t+"'");return 0==i.length?(e=new _.EffectSequence(t)).__fx=this:e=i.pop(),e.__applySettings(n),e},x.prototype.getParticleEmitter=function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1);var n=this._nameMaps.emitters[t];if(!n)throw new Error("Settings not defined for '"+t+"'");return this.getParticleEmitterById(n.id,e,i)},x.prototype.getParticleEmitterById=function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1);var n,s=this._cache.emitters,r=this._settingsCache.emitters[t];if(!r)throw new Error("Settings not defined for '"+t+"'");return 0==s.length?(n=new c.ParticleEmitter(t)).__fx=this:n=s.pop(),i&&(r=JSON.parse(JSON.stringify(r))),n.autoRecycleOnComplete=e,n.__applySettings(r),n},x.prototype.stopEmitter=function(t,e){void 0===e&&(e=!1),t.list===this._effects&&this._effects.remove(t),e?t.dispose():this.__recycleEmitter(t)},x.prototype.stopAllEffects=function(){for(var t=0,e=this._effects.toArray();t<e.length;t++){e[t].recycle()}},x.prototype.parseSpriteSheet=function(t,e){return this.parseObject(t.data.frames,e)},x.prototype.parseTextureCache=function(t){return this.parseObject(PIXI.utils.TextureCache,t)},Object.defineProperty(x.prototype,"active",{get:function(){return this._active},enumerable:!1,configurable:!0}),x.prototype.__addActiveEffect=function(t){this._effects.add(t)},x.prototype.__removeActiveEffect=function(t){this._effects.remove(t)},x.prototype.__getSprite=function(t){var e=this._cache.sprites,i=e[t];if(null==e[t]&&(i=e[t]=[]),0!=i.length)return i.pop();var n=this._settingsCache.sprites[t];if(null==n)throw new Error("Settings not defined for '"+t+"'");var s=new f.Sprite(t,n.texture,n.anchorX,n.anchorY);return s.__fx=this,s},x.prototype.__getMovieClip=function(t){var e=this._cache.mcs,i=e[t];if(null==e[t]&&(i=e[t]=[]),0!=i.length)return i.pop();var n=this._settingsCache.mcs[t];if(null==n)throw new Error("Settings not defined for '"+t+"'");var s=new m.MovieClip(t,n.textures,n.anchorX,n.anchorY);return s.__fx=this,s},x.prototype.__getParticle=function(){var t=this._cache.particles;if(0!=t.length)return t.pop();var e=new d.Particle;return e.__fx=this,e},x.prototype.__getEmitterCore=function(t,e){var i=this._cache.cores,n=i[t];return null==n&&(n=i[t]=[]),0==n.length?new x.__emitterCores[t](t):n.pop()},x.prototype.__recycleParticle=function(t){this._cache.particles.push(t)},x.prototype.__recycleSprite=function(t,e){this._cache.sprites[t].push(e)},x.prototype.__recycleMovieClip=function(t,e){this._cache.mcs[t].push(e)},x.prototype.__recycleEmitter=function(t){this._effects.remove(t),this.__recycleEmitterCore(t.core),this._cache.emitters.push(t)},x.prototype.__recycleEffectSequence=function(t){this._effects.remove(t),this._cache.effectSequences.push(t)},x.prototype.__recycleEmitterCore=function(t){this._cache.cores[t.type].push(t)},x.prototype.parseObject=function(t,e){var i=t,n={},s={sprites:[],movieClips:[]};for(var r in i)if((!e||-1!=r.indexOf(e))&&(this.initSprite(r,{texture:r,anchorX:.5,anchorY:.5}),s.sprites.push(r),"mc_"==r.substr(0,3))){var o=r.split("_")[1];null==n[o]&&(n[o]=[]),n[o].push(r)}for(var r in n){var a=n[r];s.movieClips.push(r),this.initMovieClip(r,{textures:a,anchorX:.5,anchorY:.5})}return s},x.settingsVersion=0,x.version="1.1.0",x._bundleHash="80c6df7fb0d3d898f34ce0031c037fef",x.ComponentType=n,x.EffectSequenceComponentType=r,x.__emitterCores={circle:u.CircleEmitterCore,box:p.BoxEmitterCore,ring:l.RingEmitterCore},x}();i.FX=v},{"./EffectSequence":2,"./MovieClip":4,"./Particle":5,"./ParticleEmitter":6,"./Sanitizer":7,"./Sprite":8,"./core/BoxEmitterCore":10,"./core/CircleEmitterCore":11,"./core/RingEmitterCore":12,"./util/LinkedList":17}],4:[function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0}),i.MovieClip=void 0;var r=function(c){function t(t,e,i,n){for(var s=this,r=[],o=e.length,a=0;a<o;a++)r.push(PIXI.Texture.from(e[a]));return(s=c.call(this,r)||this).componentId=t,s.anchor.set(.5,.5),s.loop=!1,s.__sequenceEndTime=0,s}return s(t,c),t.prototype.recycle=function(){this.alpha=1,this.tint=16777215,this.transform.rotation=0,this.transform.scale.set(1),this.parent&&this.parent.removeChild(this),this.gotoAndStop(0),this.__fx.__recycleMovieClip(this.componentId,this)},t.prototype.dispose=function(){this.parent&&this.parent.removeChild(this),this.__fx=null,this.gotoAndStop(0),this.destroy()},t}(PIXI.AnimatedSprite);i.MovieClip=r},{"pixi.js":void 0}],5:[function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0}),i.Particle=void 0;var r=t("./util/LinkedList"),o=t("./util/Color"),p=t("./util/Easing"),_=t("./util/Rnd"),a=t("./util/FXSignal"),c=function(e){function t(){var t=e.call(this)||this;return t.dx=0,t.dy=0,t._childEmitters=[],t._hasChildEmitters=!1,t._spawnOnHalfway=!1,t.__recycled=!0,t.__on={died:new a.FXSignal,bounced:new a.FXSignal,updated:new a.FXSignal},t._color=new o.Color,t}return s(t,e),t.prototype.init=function(t,e,i){var n=this.component,s=n.transform,r=this.__fx;this.emitter=t,this.settings=e;var o=this.duration=_.Rnd.float(e.durationMin,e.durationMax)*i;if(this._dt=1/this.duration,this.time=0,this.__recycled=!1,e.addOnTop?t.container.addChild(n):t.container.addChildAt(n,0),n.blendMode=r.useBlendModes?e.blendMode:0,this.startX=s.position.x,this.startY=s.position.y,this.useGravity=t.settings.useGravity,this.useScale=e.useScale,this.useRotation=e.useRotation,this.useAlpha=e.useAlpha,this.useTint=e.useTint,this.useSpawns=e.useSpawns,this.useChilds=e.useChilds,this.useMotion=e.useMotion,this.useGravity)if(this.gravity=t.settings.gravity,this.useFloor=t.settings.useFloor,this.floorY=t.settings.floorY,this.bounceFac=_.Rnd.float(e.bounceFacMin,e.bounceFacMax)*i,this.friction=1-_.Rnd.float(e.frictionMin,e.frictionMax)*i,this._spawnOnBounce=0<e.spawn.onBounce.length,this.useAlign=e.align,e.useMotion){var a=_.Rnd.float(e.moveSpeedMin,e.moveSpeedMax);this.moveSpeedX=a*this.dx*i,this.moveSpeedY=a*this.dy*i}else this.moveSpeedX=this.moveSpeedY=0;else if(e.useMotion){var c=this.distance=.8*_.Rnd.integer(e.distanceMin,e.distanceMax)*i;this.deltaX=.8*(s.position.x+c*this.dx-this.startX),this.deltaY=.8*(s.position.y+c*this.dy-this.startY),this.distanceEase=p.Easing[e.distanceEase],this.useAlign=!1}else s.position.x=this.startX,s.position.y=this.startY;if(e.useRotation&&e.randomStartRotation&&!this.useAlign&&(s.rotation=_.Rnd.float(0,6.28319)),e.useAlpha&&(this.alphaStart=n.alpha=_.Rnd.float(e.alphaStartMin,e.alphaStartMax),this.alphaDelta=_.Rnd.float(e.alphaEndMin,e.alphaEndMax)-this.alphaStart,this.alphaEase=p.Easing[e.alphaEase]||null,this.useFadeIn=e.fadeIn,e.fadeIn&&(this.alphaDuration=o*(1-e.fadeInDurationFac),this.fadeInDuration=o*e.fadeInDurationFac,this.fadeInEase=p.Easing[e.fadeInEase||"easeInSine"])),e.useScale&&(this.uniformScale=e.uniformScale,this.useScaleIn=e.scaleIn,e.useScale?(this.uniformScale=e.uniformScale,this.scaleEase=p.Easing[e.scaleEase],e.uniformScale?(this.scaleStart=s.scale.x=s.scale.y=_.Rnd.float(e.scaleStartMin,e.scaleStartMax)*i,this.scaleDelta=(_.Rnd.float(e.scaleEndMin,e.scaleEndMax)-this.scaleStart)*i):(this.scaleXStart=s.scale.x=_.Rnd.float(e.scaleXStartMin,e.scaleXStartMax)*i,this.scaleXDelta=(_.Rnd.float(e.scaleXEndMin,e.scaleXEndMax)-this.scaleXStart)*i,this.scaleXEase=p.Easing[e.scaleXEase],this.scaleYStart=s.scale.y=_.Rnd.float(e.scaleYStartMin,e.scaleYStartMax)*i,this.scaleYDelta=(_.Rnd.float(e.scaleYEndMin,e.scaleYEndMax)-this.scaleYStart)*i,this.scaleYEase=p.Easing[e.scaleYEase]),e.scaleIn&&(this.scaleDuration=o*(1-e.scaleInDurationFac),this.scaleInDuration=o*e.scaleInDurationFac,this.scaleInEase=p.Easing[e.scaleInEase||"easeInSine"])):e.uniformScale?(s.scale.x=e.scaleStartMin,s.scale.y=e.scaleStartMin):(s.scale.x=e.scaleXStartMin,s.scale.y=e.scaleYStartMin)),e.useRotation&&(this.rotationSpeed=_.Rnd.float(e.rotationSpeedMin,e.rotationSpeedMax)*i,e.randomRotationDirection&&(this.rotationSpeed*=_.Rnd.sign())),e.useTint&&(this.tintEase=p.Easing[e.tintEase],this._color.setRgb(e.tintStart,e.tintEnd)),e.useChilds){this._childEmitters.length=0;var h=e.childs.length;if(this._hasChildEmitters=0<h,this._childEmitters)for(;-1<--h;){var l=e.childs[h],u=r.getParticleEmitterById(l.id);u.init(t.container,!0,(l.scale||1)*(i||1)),l.adoptRotation&&(u.rotation=s.rotation,u.__adoptRotation=!0),(u.__parent=this)._childEmitters.push(u)}}return e.useSpawns&&(0<e.spawn.onStart.length&&t.__subSpawn(this,e.spawn.onStart),this._spawnOnHalfway=0<e.spawn.onHalfway.length),t.__on.particleSpawned.__hasCallback&&t.__on.particleSpawned.dispatch(this),this},t.prototype.update=function(t){var e=this.time+=t,i=this.duration;if(i<=e)this.emitter.__removeParticle(this);else{var n=this.component,s=n.transform,r=e*t;if(this.useGravity){var o=t/.0166666;if(s.position.x+=this.moveSpeedX*o,s.position.y+=this.moveSpeedY*o,this.moveSpeedY+=this.gravity*o,this.useAlign&&(s.rotation=Math.atan2(this.moveSpeedY,this.moveSpeedX)),this.useFloor&&0<this.floorY&&s.position.y>this.floorY){s.position.y=this.floorY,this.moveSpeedY*=-this.bounceFac,this.moveSpeedX*=this.friction,this.useSpawns&&this._spawnOnBounce&&this.emitter.__subSpawn(this,this.settings.spawn.onBounce);var a=this.emitter;return a.__on.particleBounced.__hasCallback&&a.__on.particleBounced.dispatch(this),this.__on.bounced.__hasCallback&&this.__on.bounced.dispatch(this),void(this.settings.stopOnBounce&&a.__removeParticle(this))}}else this.useMotion&&(this.distanceEase?(s.position.x=this.distanceEase(e,this.startX,this.deltaX,i),s.position.y=this.distanceEase(e,this.startY,this.deltaY,i)):(s.position.x=this.deltaX*r+this.startX,s.position.y=this.deltaY*r+this.startY));if(this.useAlpha&&(this.useFadeIn?e<this.fadeInDuration?n.alpha=this.fadeInEase(e,0,this.alphaStart,this.fadeInDuration):n.alpha=this.alphaEase(e-this.fadeInDuration,this.alphaStart,this.alphaDelta,this.alphaDuration):this.alphaEase?n.alpha=this.alphaEase(e,this.alphaStart,this.alphaDelta,i):n.alpha=this.alphaDelta*r+this.alphaStart),this.useRotation&&(s.rotation+=this.rotationSpeed),this.useScale&&(this.uniformScale?this.useScaleIn?e<this.scaleInDuration?s.scale.x=s.scale.y=this.scaleInEase(e,0,this.scaleStart,this.scaleInDuration):s.scale.x=s.scale.y=this.scaleEase(e-this.scaleInDuration,this.scaleStart,this.scaleDelta,this.scaleDuration):this.scaleEase?(s.scale.x=this.scaleEase(e,this.scaleStart,this.scaleDelta,i),s.scale.y=this.scaleEase(e,this.scaleStart,this.scaleDelta,i)):s.scale.x=s.scale.y=this.scaleDelta*r+this.scaleStart:this.useScaleIn?e<this.scaleInDuration?(s.scale.x=this.scaleInEase(e,0,this.scaleXStart,this.scaleInDuration),s.scale.y=this.scaleInEase(e,0,this.scaleYStart,this.scaleInDuration)):(s.scale.x=this.scaleEase(e-this.scaleInDuration,this.scaleXStart,this.scaleXDelta,this.scaleDuration),s.scale.y=this.scaleEase(e-this.scaleInDuration,this.scaleYStart,this.scaleYDelta,this.scaleDuration)):(this.scaleXEase?s.scale.x=this.scaleXEase(e,this.scaleXStart,this.scaleXDelta,i):s.scale.x=this.scaleXDelta*r+this.scaleXStart,this.scaleYEase?s.scale.y=this.scaleYEase(e,this.scaleYStart,this.scaleYDelta,i):s.scale.y=this.scaleYDelta*r+this.scaleYStart)),this.useTint&&(n.tint=this._color.tween(this.tintEase,e,i)),this._spawnOnHalfway&&.5<=e&&(this._spawnOnHalfway=!1,this.emitter.__subSpawn(this,this.settings.spawn.onHalfway)),this.useChilds&&this._hasChildEmitters)for(var c=this._childEmitters,h=c.length;-1<--h;){var l=c[h];l.__recycled||(l.x=n.position.x,l.y=s.position.y,l.__adoptRotation&&(l.rotation=s.rotation))}this.emitter.__on.particleUpdated.__hasCallback&&this.emitter.__on.particleUpdated.dispatch(this),this.__on.updated.__hasCallback&&this.__on.updated.dispatch(this)}},t.prototype.stop=function(){this.time=this.duration},t.prototype.recycle=function(){this.emitter.__on.particleDied.__hasCallback&&this.emitter.__on.particleDied.dispatch(this);var t=this.__on;if(t.died.__hasCallback&&(t.died.dispatch(this),t.died.removeAll()),t.updated.__hasCallback&&t.updated.removeAll(),t.bounced.__hasCallback&&t.bounced.removeAll(),this._hasChildEmitters){for(var e=this._childEmitters,i=e.length;-1<--i;)e[i].stop(!0);this._childEmitters.length=0,this._hasChildEmitters=!1}this.component.recycle(),this.__fx.__recycleParticle(this),this.dx=this.dy=this.deltaX=this.deltaY=0,this.component=null,this.emitter=null,this.settings=null,this.__recycled=!0},t.prototype.dispose=function(){this.recycle(),this.__fx=null},Object.defineProperty(t.prototype,"x",{get:function(){return this.component.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.component.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"on",{get:function(){return this.__on},enumerable:!1,configurable:!0}),t.prototype.__removeChildEmitter=function(t){var e=this._childEmitters.indexOf(t);-1<e&&(this._childEmitters.splice(e,1),0==this._childEmitters.length&&(this._hasChildEmitters=!1))},t}(r.Node);i.Particle=c},{"./util/Color":14,"./util/Easing":15,"./util/FXSignal":16,"./util/LinkedList":17,"./util/Rnd":18}],6:[function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0}),i.ParticleEmitter=void 0;var r=t("./BaseEffect"),o=t("./util/LinkedList"),a=t("./util/Rnd"),c=t("./util/FXSignal"),h=function(i){function t(t){var e=i.call(this,t)||this;return e.targetOffset=0,e.autoRecycleOnComplete=!0,e._particles=new o.LinkedList,e._particleCount=0,e._childEmitters=[],e._hasChildEmitters=!1,e._paused=!1,e.__adoptRotation=!1,e.__on={started:new c.FXSignal,completed:new c.FXSignal,exhausted:new c.FXSignal,particleUpdated:new c.FXSignal,particleSpawned:new c.FXSignal,particleBounced:new c.FXSignal,particleDied:new c.FXSignal},e}return s(t,i),t.prototype.init=function(t,e,i){return void 0===e&&(e=!0),void 0===i&&(i=1),this.container=t,this.core.__scaleMod=this._scaleMod=i,e&&this.start(),this},t.prototype.start=function(){if(!this._active){var t=Date.now(),e=this.settings,i=this.__fx;i.emitterCount++,this.infinite=e.infinite,this._time=Number.MAX_VALUE,0<e.duration?this.endTime=t+1e3*e.duration:this.endTime=e.duration,this._nextSpawnTime=0,this._particleCount=0,this._active=!0,this.exhausted=this.completed=!1,i.__addActiveEffect(this);var n=e.childs.length;if(this._hasChildEmitters=0<n,this._hasChildEmitters)for(;-1<--n;){var s=e.childs[n],r=i.getParticleEmitterById(s.id),o=i.__containers[r.settings.containerId]||this.container;r.init(o,!0,(s.scale||1)*(this._scaleMod||1)),s.adoptRotation&&(r.rotation=this._rotation,r.__adoptRotation=!0),(r.__parent=this)._childEmitters.push(r)}return this.rotation=this._rotation,this.__on.started.__hasCallback&&this.__on.started.dispatch(this),this}},t.prototype.stop=function(t){void 0===t&&(t=!0),t?(this.exhausted=!0,this._hasChildEmitters&&this.stopChildEmitters(!0)):(this.__on.completed.__hasCallback&&this.__on.completed.dispatch(this),this.autoRecycleOnComplete?this.recycle():(this.recycleParticles(),this.completed=!0,this._active=!1,this.__fx.__removeActiveEffect(this)))},t.prototype.update=function(t){if(this._active){var e=Date.now();this.exhausted?0==this._particleCount&&(this._active=!1,this.completed=!0,this.__on.completed.__hasCallback&&this.__on.completed.dispatch(this),this.__fx.__removeActiveEffect(this),this.autoRecycleOnComplete&&this.recycle()):(0!==this.settings.autoRotation&&(this.rotation+=this.settings.autoRotation*(t/.016666)),this.target&&(this.rotation=this.target.rotation,0==this.targetOffset?(this.x=this.target.x,this.y=this.target.y):(this.x=this.target.x+Math.cos(this._rotation)*this.targetOffset,this.y=this.target.y+Math.sin(this._rotation)*this.targetOffset)),0!=this.endTime||this.infinite?this.infinite||e<this.endTime?(this._time+=t,this._time>=this._nextSpawnTime&&(this._time=0,this.spawn(),this._nextSpawnTime=this._time+a.Rnd.float(this.settings.spawnFrequencyMin,this.settings.spawnFrequencyMax))):(this.exhausted=!0,this.__on.exhausted.__hasCallback&&this.__on.exhausted.dispatch(this)):(this.spawn(),this.exhausted=!0));for(var i,n=this._particles.first;n;)i=n.next,n.update(t),n=i;return this}},t.prototype.spawn=function(){if(!this._paused){var t=this.settings,e=this.__fx,i=a.Rnd.integer(t.spawnCountMin,t.spawnCountMax)*e.particleFac;for(this.core.prepare(i);-1<--i;){if(this._particleCount>=t.maxParticles||e.particleCount>=e.maxParticles)return;var n=t.particleSettings,s=e.__getParticle(),r=void 0;switch(n.componentType){case 0:s.componentId=n.componentId,r=e.__getSprite(s.componentId);break;case 1:s.componentId=n.componentId,r=e.__getMovieClip(s.componentId),n.componentParams&&(r.loop=!(null==n.componentParams.loop||!n.componentParams.loop),r.animationSpeed=a.Rnd.float(n.componentParams.animationSpeedMin||1,n.componentParams.animationSpeedMax||1)),r.gotoAndPlay(0)}r.anchor.set(n.componentParams.anchorX,n.componentParams.anchorY),s.component=r,this.core.emit(s),s.init(this,n,this._scaleMod),this._particles.add(s),this._particleCount++,e.particleCount++}return this.core.step(),this._nextSpawnTime=a.Rnd.float(t.spawnFrequencyMin,t.spawnFrequencyMax),this}},t.prototype.recycle=function(){if(!this.__recycled){this.__parent&&(this.__parent.__removeChildEmitter(this),this.__parent=null),this.recycleParticles(),this.settings=null,this._active=!1,this._paused=!1,this.completed=!0,this._x=this._y=this._rotation=0,this._hasChildEmitters&&(this.stopChildEmitters(!0),this._childEmitters.length=0,this._hasChildEmitters=!1),this.__fx.emitterCount--,this.__fx.__recycleEmitter(this),this.__recycled=!0,this.__adoptRotation=!1,this.core=null,this.target=null,this.name=null;var t=this.__on;t.completed.__hasCallback&&t.completed.removeAll(),t.started.__hasCallback&&t.started.removeAll(),t.exhausted.__hasCallback&&t.exhausted.removeAll(),t.particleBounced.__hasCallback&&t.particleBounced.removeAll(),t.particleDied.__hasCallback&&t.particleDied.removeAll(),t.particleSpawned.__hasCallback&&t.particleSpawned.removeAll(),t.particleUpdated.__hasCallback&&t.particleUpdated.removeAll()}},t.prototype.dispose=function(){for(var t,e=this._particles,i=e.first;i;)t=i.next,i.recycle(),i=t;e.clear(),this.__recycled=!0,this._hasChildEmitters&&this.stopChildEmitters(!1),this.__fx.particleCount-=this._particleCount,this._particles=null,this.componentId=null,this.settings=null,this._active=!1,this.completed=!0,this._childEmitters=null,this.core&&this.core.dispose(),this.core=null,this.target=null,this.name=null;var n=this.__on;n.completed.removeAll(),n.started.removeAll(),n.exhausted.removeAll(),n.particleBounced.removeAll(),n.particleDied.removeAll(),n.particleSpawned.removeAll(),n.particleUpdated.removeAll(),this.__parent=null,this.__fx.__removeActiveEffect(this),this.__fx=null},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){if(this._x=this.core.x=t,this._xPosIntialized||(this.core.__x=t,this._xPosIntialized=!0),this._hasChildEmitters)for(var e=this._childEmitters,i=e.length;-1<--i;)e[i].x=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){if(this._y=this.core.y=t,this._yPosIntialized||(this.core.__y=t,this._yPosIntialized=!0),this._hasChildEmitters)for(var e=this._childEmitters,i=e.length;-1<--i;)e[i].y=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){if(this._rotation=this.core.rotation=t,this._hasChildEmitters)for(var e=this._childEmitters,i=e.length;-1<--i;){var n=e[i];n.__adoptRotation&&(n.rotation=n.settings.rotation+t)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paused",{get:function(){return this._paused},set:function(t){if(this._paused=t,this._hasChildEmitters)for(var e=this._childEmitters,i=e.length;-1<--i;)e[i].paused=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"on",{get:function(){return this.__on},enumerable:!1,configurable:!0}),t.prototype.recycleParticles=function(){for(var t,e=this._particles.first;e;)t=e.next,e.recycle(),e=t;this._particles.clear(),this.__fx.particleCount-=this._particleCount},t.prototype.stopChildEmitters=function(t){for(var e=this._childEmitters,i=e.length;-1<--i;)e[i].stop(t)},t.prototype.__removeParticle=function(t){t.useSpawns&&this._spawnOnComplete&&this.__subSpawn(t,this.settings.particleSettings.spawn.onComplete),this._particles.remove(t),this._particleCount--,this.__fx.particleCount--,t.recycle()},t.prototype.__removeChildEmitter=function(t){var e=this._childEmitters.indexOf(t);-1<e&&(this._childEmitters.splice(e,1),0==this._childEmitters.length&&(this._hasChildEmitters=!1))},t.prototype.__subSpawn=function(t,e){var i=this.__fx;if(e)for(var n=e.length;-1<--n;){var s=e[n],r=void 0,o=void 0;switch(s.type){case 0:r=i.getParticleEmitterById(s.id),o=i.__containers[r.settings.containerId]||this.container,r.init(o,!0,(s.scale||1)*this._scaleMod),s.adoptRotation?(r.rotation=t.component.rotation+r.settings.rotation,r.__adoptRotation=!0):r.rotation=r.settings.rotation;break;case 1:r=i.getEffectSequenceById(s.id),o=i.__containers[r.settings.containerId]||this.container,r.init(o,0,!0,(s.scale||1)*this._scaleMod),s.adoptRotation&&(r.rotation=t.component.rotation)}r.x=t.component.x,r.y=t.component.y}},t.prototype.__applySettings=function(t){var e=this.__fx;this.__recycled=this._xPosIntialized=this._yPosIntialized=!1,this.settings=t,this.core=e.__getEmitterCore(t.core.type,this),this.core.init(this),this.rotation=t.rotation,this.name=t.name,this._spawnOnComplete=0<t.particleSettings.spawn.onComplete.length,this._childEmitters.length=0},t.prototype.__setCore=function(t){this.core=this.__fx.__getEmitterCore(t,this),this.core.init(this),this.core.__scaleMod=this._scaleMod,this._xPosIntialized=this._yPosIntialized=!1},t}(r.BaseEffect);i.ParticleEmitter=h},{"./BaseEffect":1,"./util/FXSignal":16,"./util/LinkedList":17,"./util/Rnd":18}],7:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Sanitizer=void 0;var n=function(){function l(){}return l.sanitizeBundle=function(t){for(var e=0,i=t.emitters;e<i.length;e++){var n=i[e],s=l._presetStructure.emitter;l.parse(n,s,l._presetStructure.emitterSpawn)}for(var r=0,o=t.sequences;r<o.length;r++){var a=o[r];s=l._presetStructure.sequence;l.parse(a,s,l._presetStructure.sequenceEffect)}},l.parse=function(t,e,i){for(var n in e)if(null==t[n])t[n]=e[n];else{var s=t[n];if("object"!=typeof s)continue;var r=e[n];if(s.hasOwnProperty("length"))for(var o=0,a=s;o<a.length;o++){var c=a[o];for(var h in i)null==c[h]&&(c[h]=i[h])}else l.parse(s,r,i)}},l._presetStructure={sequence:{id:0,name:"",type:1,delay:0,scaleMin:1,scaleMax:1,effects:[]},sequenceEffect:{id:0,componentId:null,componentType:0,delay:0,componentParams:{animationSpeedMin:1,animationSpeedMax:1,anchorX:.5,anchorY:.5,loop:!1},scaleMin:1,scaleMax:1,alphaMin:1,alphaMax:1,rotationMin:0,rotationMax:0,blendMode:0,duration:.1,tint:16777215,containerId:"",triggerValue:""},emitter:{id:0,name:"",type:0,core:{type:"circle",params:{radius:100,radial:!0,angle:6.28318530718,uniform:!1,width:100,height:100}},spawnFrequencyMin:.1,spawnFrequencyMax:.1,maxParticles:1e3,spawnCountMin:1,spawnCountMax:1,duration:0,infinite:!0,useGravity:!1,gravity:0,useFloor:!1,floorY:700,rotation:0,autoRotation:0,particleSettings:{componentType:0,componentId:"",componentParams:{animationSpeedMin:1,animationSpeedMax:1,anchorX:.5,anchorY:.5,loop:!1},durationMin:1,durationMax:2,distanceMin:0,distanceMax:0,distanceEase:"linear",moveSpeedMin:0,moveSpeedMax:0,bounceFacMin:0,bounceFacMax:0,frictionMin:0,frictionMax:0,useMotion:!1,useRotation:!1,useAlpha:!1,useScale:!1,useTint:!1,useChilds:!1,useSpawns:!1,stopOnBounce:!1,align:!1,blendMode:1,addOnTop:!0,rotationSpeedMin:0,rotationSpeedMax:0,randomRotationDirection:!1,randomStartRotation:!1,fadeIn:!0,fadeInDurationFac:.1,fadeInEase:"linear",alphaStartMin:.7,alphaStartMax:.9,alphaEndMin:.7,alphaEndMax:.8,alphaEase:"linear",tintStart:16777215,tintEnd:16777215,tintEase:"linear",scaleIn:!1,scaleInDurationFac:.2,scaleInEase:"linear",uniformScale:!0,scaleXStartMin:1,scaleXStartMax:1,scaleXEndMin:1,scaleXEndMax:1,scaleXEase:"linear",scaleYStartMin:1,scaleYStartMax:1,scaleYEndMin:1,scaleYEndMax:1,scaleYEase:"linear",scaleStartMin:1,scaleStartMax:1,scaleEndMin:1,scaleEndMax:1,scaleEase:"linear",childs:[],spawn:{onComplete:[],onBounce:[],onHalfway:[],onStart:[]}},childs:[]},emitterSpawn:{type:0,id:0,scale:1,adoptRotation:!0,containerId:""}},l}();i.Sanitizer=n},{}],8:[function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0}),i.Sprite=void 0;var r=function(r){function t(t,e,i,n){var s=r.call(this,PIXI.Texture.from(e))||this;return s.componentId=t,s.anchor.set(i||.5,n||.5),s.__sequenceEndTime=null,s}return s(t,r),t.prototype.recycle=function(){this.tint=16777215,this.alpha=1,this.transform.rotation=0,this.transform.scale.set(1),this.parent&&this.parent.removeChild(this),this.__fx.__recycleSprite(this.componentId,this)},t.prototype.dispose=function(){this.__fx=null,this.recycle(),this.destroy(!1)},t}(PIXI.Sprite);i.Sprite=r},{"pixi.js":void 0}],9:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BaseEmitterCore=void 0;var n=function(){function t(t){this.type=t,this._dx=0,this._dy=0,this._rotation=0}return t.prototype.init=function(t){this.emitter=t,this._settings=t.settings.core.params,this.x=this.__x=t.x,this.y=this.__y=t.y,this.rotation=t.rotation},t.prototype.emit=function(t){},t.prototype.prepare=function(t){this._posInterpolationStep=1/t,this._t=.5*this._posInterpolationStep},t.prototype.step=function(){this.__x=this.x,this.__y=this.y},t.prototype.recycle=function(){this.emitter=null,this._settings=null},t.prototype.dispose=function(){this.recycle(),this.emitter=null,this._settings=null},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation=t,this._dx=Math.cos(t),this._dy=Math.sin(t)},enumerable:!1,configurable:!0}),t.__TYPE_BOX="box",t.__TYPE_CIRCLE="circle",t.__TYPE_RING="ring",t}();i.BaseEmitterCore=n},{}],10:[function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0}),i.BoxEmitterCore=void 0;var r=t("./BaseEmitterCore"),c=t("../util/Rnd"),o=function(t){function e(){return t.call(this,r.BaseEmitterCore.__TYPE_BOX)||this}return s(e,t),e.prototype.emit=function(t){var e=this._settings,i=this.emitter,n=.5*e.width*this.__scaleMod,s=.5*e.height*this.__scaleMod,r=i.rotation,o=c.Rnd.float(-n,n),a=c.Rnd.float(-s,s);0!=r?(t.component.transform.position.x=this.__x+this._t*(this.x-this.__x)+o*Math.cos(r)-a*Math.sin(r),t.component.transform.position.y=this.__y+this._t*(this.y-this.__y)+o*Math.sin(r)+a*Math.cos(r)):(t.component.transform.position.x=this.__x+this._t*(this.x-this.__x)+o,t.component.transform.position.y=this.__y+this._t*(this.y-this.__y)+a),e.radial?(r+=Math.atan2(a,o),t.dx=Math.cos(r),t.dy=Math.sin(r)):(t.dx=this._dx,t.dy=this._dy),t.component.transform.rotation=r,this._t+=this._posInterpolationStep},e}(r.BaseEmitterCore);i.BoxEmitterCore=o},{"../util/Rnd":18,"./BaseEmitterCore":9}],11:[function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0}),i.CircleEmitterCore=void 0;var r=t("./BaseEmitterCore"),o=t("../util/Rnd"),a=function(t){function e(){return t.call(this,r.BaseEmitterCore.__TYPE_CIRCLE)||this}return s(e,t),e.prototype.emit=function(t){var e,i=this._settings,n=this.emitter;if(e=i.angle?o.Rnd.float(.5*-i.angle,.5*i.angle)+n.rotation:o.Rnd.float(0,6.28319)+n.rotation,0<i.radius){var s=o.Rnd.float(0,i.radius)*this.__scaleMod;t.component.transform.position.x=this.__x+this._t*(this.x-this.__x)+Math.cos(e)*s,t.component.transform.position.y=this.__y+this._t*(this.y-this.__y)+Math.sin(e)*s}else t.component.x=this.__x+this._t*(this.x-this.__x),t.component.y=this.__y+this._t*(this.y-this.__y);i.radial?(t.dx=Math.cos(e),t.dy=Math.sin(e),t.component.transform.rotation=e):(t.dx=this._dx,t.dy=this._dy,t.component.transform.rotation=n.rotation),this._t+=this._posInterpolationStep},e}(r.BaseEmitterCore);i.CircleEmitterCore=a},{"../util/Rnd":18,"./BaseEmitterCore":9}],12:[function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0}),i.RingEmitterCore=void 0;var r=t("./BaseEmitterCore"),o=t("../util/Rnd"),a=function(i){function t(){return i.call(this,r.BaseEmitterCore.__TYPE_RING)||this}return s(t,i),t.prototype.prepare=function(t){i.prototype.prepare.call(this,t);var e=this._settings.angle;2*Math.PI-e<.1?(this._uniformStep=e/t,this._angle=e):(this._uniformStep=e/(t-1),this._angle=.5*-e)},t.prototype.emit=function(t){var e,i=this._settings,n=this.emitter;i.uniform?(e=this._angle+n.rotation,this._angle+=this._uniformStep):e=o.Rnd.float(.5*-i.angle,.5*i.angle)+n.rotation;var s=i.radius*this.__scaleMod;t.component.transform.position.x=this.__x+this._t*(this.x-this.__x)+Math.cos(e)*s,t.component.transform.position.y=this.__y+this._t*(this.y-this.__y)+Math.sin(e)*s,i.radial?(t.dx=Math.cos(e),t.dy=Math.sin(e),t.component.transform.rotation=e):(t.dx=this._dx,t.dy=this._dy,t.component.transform.rotation=n.rotation),this._t+=this._posInterpolationStep},t}(r.BaseEmitterCore);i.RingEmitterCore=a},{"../util/Rnd":18,"./BaseEmitterCore":9}],13:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("./FX");Object.defineProperty(i,"FX",{enumerable:!0,get:function(){return n.FX}});var s=t("./BaseEffect");Object.defineProperty(i,"BaseEffect",{enumerable:!0,get:function(){return s.BaseEffect}});var r=t("./EffectSequence");Object.defineProperty(i,"EffectSequence",{enumerable:!0,get:function(){return r.EffectSequence}});var o=t("./MovieClip");Object.defineProperty(i,"MovieClip",{enumerable:!0,get:function(){return o.MovieClip}});var a=t("./Particle");Object.defineProperty(i,"Particle",{enumerable:!0,get:function(){return a.Particle}});var c=t("./ParticleEmitter");Object.defineProperty(i,"ParticleEmitter",{enumerable:!0,get:function(){return c.ParticleEmitter}});var h=t("./Sprite");Object.defineProperty(i,"Sprite",{enumerable:!0,get:function(){return h.Sprite}});var l=t("./core/BaseEmitterCore");Object.defineProperty(i,"BaseEmitterCore",{enumerable:!0,get:function(){return l.BaseEmitterCore}});var u=t("./core/BoxEmitterCore");Object.defineProperty(i,"BoxEmitterCore",{enumerable:!0,get:function(){return u.BoxEmitterCore}});var p=t("./core/CircleEmitterCore");Object.defineProperty(i,"CircleEmitterCore",{enumerable:!0,get:function(){return p.CircleEmitterCore}});var _=t("./core/RingEmitterCore");Object.defineProperty(i,"RingEmitterCore",{enumerable:!0,get:function(){return _.RingEmitterCore}});var f=t("./util/Color");Object.defineProperty(i,"Color",{enumerable:!0,get:function(){return f.Color}});var d=t("./util/Easing");Object.defineProperty(i,"Easing",{enumerable:!0,get:function(){return d.Easing}});var m=t("./util/LinkedList");Object.defineProperty(i,"LinkedList",{enumerable:!0,get:function(){return m.LinkedList}});var y=t("./util/Rnd");Object.defineProperty(i,"Rnd",{enumerable:!0,get:function(){return y.Rnd}});var v=t("./util/FXSignal");Object.defineProperty(i,"FXSignal",{enumerable:!0,get:function(){return v.FXSignal}})},{"./BaseEffect":1,"./EffectSequence":2,"./FX":3,"./MovieClip":4,"./Particle":5,"./ParticleEmitter":6,"./Sprite":8,"./core/BaseEmitterCore":9,"./core/BoxEmitterCore":10,"./core/CircleEmitterCore":11,"./core/RingEmitterCore":12,"./util/Color":14,"./util/Easing":15,"./util/FXSignal":16,"./util/LinkedList":17,"./util/Rnd":18}],14:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Color=void 0;var n=function(){function t(){}return t.prototype.setRgb=function(t,e){this.startRgb=this.rgb=t,this.r=this.sR=t>>16&255,this.g=this.sG=t>>8&255,this.b=this.sB=255&t,this.targetRgb=e,this.dR=(e>>16&255)-this.r,this.dG=(e>>8&255)-this.g,this.dB=(255&e)-this.b},t.prototype.tween=function(t,e,i){return t?(this.r=t(e,this.sR,this.dR,i),this.g=t(e,this.sG,this.dG,i),this.b=t(e,this.sB,this.dB,i)):(e/=i,this.r=this.dR*e+this.sR,this.g=this.dG*e+this.sG,this.b=this.dB*e+this.sB),this.rgb=this.r<<16|this.g<<8|this.b,this.rgb},t}();i.Color=n},{}],15:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Easing=void 0;var n=function(){function s(){}return s.linear=function(t,e,i,n){return i*t/n+e},s.easeInQuad=function(t,e,i,n){return i*(t/=n)*t+e},s.easeOutQuad=function(t,e,i,n){return-i*(t/=n)*(t-2)+e},s.easeInOutQuad=function(t,e,i,n){return(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},s.easeInCubic=function(t,e,i,n){return i*(t/=n)*t*t+e},s.easeOutCubic=function(t,e,i,n){return i*((t=t/n-1)*t*t+1)+e},s.easeInOutCubic=function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},s.easeInQuart=function(t,e,i,n){return i*(t/=n)*t*t*t+e},s.easeOutQuart=function(t,e,i,n){return-i*((t=t/n-1)*t*t*t-1)+e},s.easeInOutQuart=function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},s.easeInQuint=function(t,e,i,n){return i*(t/=n)*t*t*t*t+e},s.easeOutQuint=function(t,e,i,n){return i*((t=t/n-1)*t*t*t*t+1)+e},s.easeInOutQuint=function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},s.easeInSine=function(t,e,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+e},s.easeOutSine=function(t,e,i,n){return i*Math.sin(t/n*(Math.PI/2))+e},s.easeInOutSine=function(t,e,i,n){return-i/2*(Math.cos(Math.PI*t/n)-1)+e},s.easeInExpo=function(t,e,i,n){return 0===t?e:i*Math.pow(2,10*(t/n-1))+e},s.easeOutExpo=function(t,e,i,n){return t===n?e+i:i*(1-Math.pow(2,-10*t/n))+e},s.easeInOutExpo=function(t,e,i,n){return(t/=n/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(2-Math.pow(2,-10*--t))+e},s.easeInCirc=function(t,e,i,n){return-i*(Math.sqrt(1-(t/=n)*t)-1)+e},s.easeOutCirc=function(t,e,i,n){return i*Math.sqrt(1-(t=t/n-1)*t)+e},s.easeInOutCirc=function(t,e,i,n){return(t/=n/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e},s.easeInElastic=function(t,e,i,n){var s,r,o;return o=1.70158,(r=0)===t||(t/=n),r||(r=.3*n),o=(s=i)<Math.abs(i)?(s=i,r/4):r/(2*Math.PI)*Math.asin(i/s),-s*Math.pow(2,10*(t-=1))*Math.sin((t*n-o)*(2*Math.PI)/r)+e},s.easeOutElastic=function(t,e,i,n){var s,r,o;return o=1.70158,(r=0)===t||(t/=n),r||(r=.3*n),o=(s=i)<Math.abs(i)?(s=i,r/4):r/(2*Math.PI)*Math.asin(i/s),s*Math.pow(2,-10*t)*Math.sin((t*n-o)*(2*Math.PI)/r)+i+e},s.easeInOutElastic=function(t,e,i,n){var s,r,o;return o=1.70158,(r=0)===t||(t/=n/2),r||(r=n*(.3*1.5)),o=(s=i)<Math.abs(i)?(s=i,r/4):r/(2*Math.PI)*Math.asin(i/s),t<1?s*Math.pow(2,10*(t-=1))*Math.sin((t*n-o)*(2*Math.PI)/r)*-.5+e:s*Math.pow(2,-10*(t-=1))*Math.sin((t*n-o)*(2*Math.PI)/r)*.5+i+e},s.easeInBack=function(t,e,i,n,s){return void 0===s&&(s=1.70158),i*(t/=n)*t*((s+1)*t-s)+e},s.easeOutBack=function(t,e,i,n,s){return void 0===s&&(s=1.70158),i*((t=t/n-1)*t*((s+1)*t+s)+1)+e},s.easeInOutBack=function(t,e,i,n,s){return void 0===s&&(s=1.70158),(t/=n/2)<1?i/2*(t*t*((1+(s*=1.525))*t-s))+e:i/2*((t-=2)*t*((1+(s*=1.525))*t+s)+2)+e},s.easeInBounce=function(t,e,i,n){return i-s.easeOutBounce(n-t,0,i,n)+e},s.easeOutBounce=function(t,e,i,n){return(t/=n)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},s.easeInOutBounce=function(t,e,i,n){return t<n/2?.5*s.easeInBounce(2*t,0,i,n)+e:.5*s.easeOutBounce(2*t-n,0,i,n)+.5*i+e},s}();i.Easing=n},{}],16:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.FXSignalListener=i.FXSignal=void 0;var n=t("./LinkedList"),s=function(){function t(){this.__hasCallback=!1,this._list=new n.LinkedList}return t.prototype.add=function(t,e,i){this._list.add(new n.Node(new r(t,e,!1,i))),this.__hasCallback=!0},t.prototype.addOnce=function(t,e){this._list.add(new n.Node(new r(t,e,!0))),this.__hasCallback=!0},t.prototype.dispatch=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i,n=this._list,s=n.first;s;){i=s.next;var r=!0,o=s.data;o.callRate&&o.calls%o.callRate!=0&&(r=!1),r&&(o.callback.apply(o.scope,t),o.once&&n.remove(s)),s=i}this.__hasCallback=0<n.__length},t.prototype.remove=function(t){for(var e,i=this._list,n=i.first;n;){if(e=n.next,n.data.callback===t)return void i.remove(n);n=e}this.__hasCallback=0<i.__length},t.prototype.removeAll=function(){this._list.clear(),this.__hasCallback=!1},t}();i.FXSignal=s;var r=function(t,e,i,n){this.callback=t,this.scope=e,this.once=i,this.callRate=n,this.calls=0};i.FXSignalListener=r},{"./LinkedList":17}],17:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Node=i.LinkedList=void 0;var n=function(){function t(){this.__length=0}return Object.defineProperty(t.prototype,"length",{get:function(){return this.__length},enumerable:!1,configurable:!0}),t.prototype.add=function(t){return null==this.first?this.first=this.last=t:(t.prev=this.last,this.last.next=t,this.last=t),(t.list=this).__length++,this},t.prototype.remove=function(t){if(null!=t.list)return this.first===this.last?this.first=this.last=null:0<this.__length&&(t===this.last?(t.prev.next=null,this.last=t.prev):t===this.first?(t.next.prev=null,this.first=t.next):(t.next.prev=t.prev,t.prev.next=t.next)),t.next=t.prev=t.list=null,this.__length--,this},t.prototype.clear=function(){if(this.first){for(var t=this.first;t;){var e=t.next;t.next=t.prev=t.list=null,t=e}this.first=this.last=null}},t.prototype.toArray=function(){var t=[];if(!this.first)return t;for(var e=this.first;e;)t.push(e),e=e.next;return t},t}();i.LinkedList=n;var s=function(){function t(t){this.data=t}return t.prototype.update=function(t){},t.prototype.dispose=function(){},t}();i.Node=s},{}],18:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Rnd=void 0;var n=function(){function t(){}return t.float=function(t,e){return Math.random()*(e-t)+t},t.bool=function(t){return void 0===t&&(t=.5),Math.random()<t},t.sign=function(t){return void 0===t&&(t=.5),Math.random()<t?1:-1},t.bit=function(t){return void 0===t&&(t=.5),Math.random()<t?1:0},t.integer=function(t,e){return Math.floor(Math.random()*(e-t)+t)},t}();i.Rnd=n},{}]},{},[13])(13)});